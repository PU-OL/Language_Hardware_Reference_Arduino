<!DOCTYPE html>
<html>
  <style>
  /* Seite / Typografie */
  body { font-family: -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif; color: #24292e; background: #fff; margin: 24px; }

  /* Codebox: heller Hintergrund, kräftiger Rand */
  pre {
    background: #f6f8fa;
    border: 2px solid #333333;    /* dunkler und dicker Rahmen */
    border-radius: 6px;
    padding: 12px;
    overflow-x: auto;
    line-height: 1.45;
    page-break-inside: avoid;     /* vermeiden von Umbruch IN der Box (wkhtmltopdf respektiert nur begrenzt) */
    -webkit-region-break-inside: avoid;
  }

  /* Inline code */
  p code, li code, code:not(pre code) {
    background: rgba(27,31,35,0.05);
    padding: 0.18em 0.38em;
    border-radius: 4px;
    border: 1px solid rgba(0,0,0,0.06);
  }

  /* Verhindere, dass pre über Seiten geteilt wird (best effort) */
  pre, .code, code { break-inside: avoid; }

  /* Section / Titelseite / Pagebreak-Regeln */
  h3:not(:first-of-type){ page-break-before: always; break-before: page; }
  .pagebreak{ page-break-before: always; break-before: page; }
  .section{ page-break-inside: avoid; }
  .titlepage{ text-align: center; page-break-after: always; margin-top: 200px; }
  .titlepage img{ display:block; margin: 40px auto; }
  .titlepage h1{ font-size: 2.5em; margin-bottom: 1em; }

  /* VS Code Light / Arduino-like Farben (kräftig gesetzt, überschreibt Themes) */
  .hljs-keyword        { color: #0000FF; font-weight: bold; }   /* keywords */
  .hljs-type           { color: #267f99; }                     /* types */
  .hljs-string         { color: #A31515; }                     /* strings */
  .hljs-number         { color: #098658; }                     /* numbers */
  .hljs-title, .hljs-class { color: #267f99; }                 /* titles/classes */
  .hljs-function .hljs-title, .hljs-built_in { color: #795e26; font-weight: bold; } /* functions/builtins */
  .hljs-comment, .hljs-doctag { color: #008000 !important; font-style: italic; } /* Kommentare grün */

  /* spezielles Arduino-token (wird per JS gesetzt) */
  .hljs-arduino-builtin { color: #795e26; font-weight: bold; }
  </style>
  <script>
  document.addEventListener('DOMContentLoaded', function() {
    try { hljs.highlightAll(); } catch(e){ /* ignore */ }

    const arduinoFns = [
      "pinMode","digitalWrite","digitalRead","analogWrite","analogRead",
      "delay","millis","micros","attachInterrupt","detachInterrupt",
      "noInterrupts","interrupts","tone","noTone","shiftOut","shiftIn",
      "Serial","begin","print","println","map"
    ];
    const fnRegex = new RegExp('\\b(' + arduinoFns.join('|') + ')\\b','g');

    document.querySelectorAll('pre code, code.hljs').forEach(node => {
      if (node.__arduinoMarked) return;
      let html = node.innerHTML;
      html = html.replace(fnRegex, '<span class="hljs-arduino-builtin">$1</span>');
      node.innerHTML = html;
      node.__arduinoMarked = true;
    });

    try { window.status = 'ready'; } catch(e) {}
  });
  </script>
</html>
